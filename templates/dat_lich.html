{% extends "base.html" %}

{% block title %}
Đặt lịch khám
{% endblock %}

{% block top_actions %}
<a class="btn btn-ghost" href="{{ url_for('benh_nhan.trang_benh_nhan') }}">← Trang bệnh nhân</a>
{% endblock %}

{% block content %}
<div class="card auth auth-large">

  <div class="card__header">
    <h1 class="h1">Đặt lịch khám</h1>
    <p class="muted">Chọn bác sĩ và thời gian phù hợp để đặt lịch</p>
  </div>

  {% if loi %}
    <ul class="alert">
      {% for msg in loi %}
        <li>{{ msg }}</li>
      {% endfor %}
    </ul>
  {% endif %}

  <form method="post" class="form">

    <label class="label" for="bac_si">Chọn bác sĩ</label>
    <select class="input" id="bac_si" name="bac_si" required>
      <option value="">-- Chọn bác sĩ --</option>
      {% for bs in ds_bac_si %}
        <option value="{{ bs.BacSiID }}">{{ bs.HoTen }}</option>
      {% endfor %}
    </select>

    <div class="row">
      <div class="field">
        <label class="label" for="ngay_kham">Ngày khám</label>
        <input class="input" type="date" id="ngay_kham" name="ngay_kham" required>
      </div>

      <div class="field">
        <label class="label" for="gio_kham">Giờ khám</label>
        <input class="input" type="time" id="gio_kham" name="gio_kham" required>
      </div>
    </div>

    <label class="label" for="ly_do">Lý do khám (tuỳ chọn)</label>
    <textarea class="input" id="ly_do" name="ly_do" rows="3"></textarea>

    <button type="submit" class="btn btn-primary">
      Xác nhận đặt lịch
    </button>

    <div class="hint">
      <a class="link" href="{{ url_for('public.thong_tin_phong_kham') }}">
        Xem thông tin phòng khám & bác sĩ
      </a>
    </div>

  </form>

</div>
{% endblock %}